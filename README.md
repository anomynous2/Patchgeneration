# Patchgeneration
This repo contains the data  and supplementary document for the learning-based patch genration study.  In particular, it contains generated
correct patches (in RQ1RQ2), all generated patches (in RQ3/AllGenerated), and supplementary results (in RQ3/Patch_Space_res). 


* `RQ1RQ2/GenerateCorrect` contains the correct patches generated/manually identified by existing learning-based tools on defects4j version1.2 and  defects4j version 2.0;

* `RQ3/AllGenerate` contains patch candidates generated by existing learning-based tools;   

* `RQ3/Patch_Space_res` contains the supplementary results regarding patch spaces for other tools. 



The following paragraph presents a complete descriptions/mapping for patterns that are not presented in the paper due to space limits.

#### Detailed Pattern Descriptions
| Category ID | Description  |  Mapping |
| ------------ | ------------ | ------------ |
|  [A.1.1] Insert Null Check Assignment  |  Insert an assignment with a null checker | FP 2.3  |
| [A.1.2] Insert Null Check Exception   |   Insert an exception throw with a null checker |  FP 2.5 |
|  [A.1.3] Insert Null Check If | Insert an If null checker   |  FP 2.1 |
|  [A.1.4] Insert In-line Null Check |   Insert a null checker in an existing statement |  *New* |
| [A.1.5] Insert Null Check Return/Continue  |  Insert return/continue with a null checker |  FP 2.4 / FP2.2 |
| [A.2.1] Insert Only Return/Break |   Insert return/break|   FP 4.2 |
|  [A.2.2] Insert Conditional Return/Break |  Insert return/break with a conditional check | *New*   |
|  [A.3] Insert Conditional Exp  | Insert a conditional check  | FP 4.4 |
|  [A.4] Insert Method Call |  Insert a method invocation  | FP 4.1  |
|  [A.5] Insert Cast Checker |  Insert a cast checker | FP 1 |
|  [A.6] Insert Exception  |  Throw an exception  | *New* |
| [B.1.1]Replace Conditional Sub-exp  | Replace conditional sub-exp with another  sub-exp  |  FP 6.1|
|  [B.1.2] Reduce Conditional Sub-exp |  Reduce conditional sub-exp by removing one   sub-exp and the relevant operator | FP 6.2 |
|  [B.1.3] Expand Conditional Sub-exp  |  Expand conditional sub-exp by adding one  sub-exp and the relevant operator | FP 6.3 |
|  [B.2.1]Replace Type  |  Replace data type with another | FP 7.1 / FP 7.2 |
|  [B.2.2.1] Add Type in Division |  Add data type in division expression |  FP 8.1 / FP 8.2 |
|   [B.2.2.2] Add Type in General | Add data type in general expression  |  *New* |
|   [B.3.1] Replace Method Name|  Replace method name with another method name | FP 10.1 |
|  [B.3.2.1] Remove Arg | Remove the arguement  | FP 10.3 |
|  [B.3.2.2] Add Arg |  Add the arguement |FP 10.4  |
| [B.4.1] Replace Operator | Replace the  operator with the another | FP 11.1 |
| [B.4.2] Change Priority  | Change  the priority |  FP 11.2|
| [B.4.3] Remove Operator |  Remove the operator  and operands|  *New* |
| [B.5] Mod Variable |  Replace variable with the another | FP 13.1 / FP 13.2 |
| [B.6] Mod Literal |   Replace literal with the another | FP 9.1 |
| [B.7] Mod Modidifier |   Replace modifier with the another | *New* |
| [B.8] Mod Early Exit |   Modify the early exit expression | FP 12 |
| [C.1] Move Statement |  Move the location of the statement |  FP 14|
| [D.1] Delete Statement |   Delete the statement |  FP 15.1|
| [D.2] Delete Method Definition|  Delete the definition of method  |  FP 15.2|


#### Distribution of TBar Pattern
| Category ID | Ratio (%)  | 
| ------------ | ------------ |
| B.4.1	| 19| 
| B.5| 	12| 
| B.6	| 7| 
| A.1.3	| 7| 
| A.1.5| 	7| 
| B.1.3	| 7| 
| B.3.1	| 7| 
| B.2.1| 	5| 
| B.3.2.2	| 5| 
| C.1| 	5| 
| D.2	| 3| 
| A.1.2	| 3| 
|A.1.1 | 2| 
| A.2.1	|  2| 
| A.4| 	2| 
| A.5	| 2| 
| B.2.2.1| 	2| 
| B.3.2.1| 	2| 
| D.1| 2| 
